<!DOCTYPE html>
{% load static %}
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=2.0">
		<title>Cats or Dogs?</title>
		<link rel="stylesheet" href="../static/css/style1.css">
	</head>
	<body>
		<div class="container">
			<h1>Choose your favorite animals below: </h1>
            <button id="catButton" onclick="handleVote('cat')">ğŸ±Cats</button>
            <button id="dogButton" onclick="handleVote('dog')">ğŸ¶Dogs</button>
{#			<button id="catButton">ğŸ±Cats</button>#}
{#			<button id="dogButton">ğŸ¶Dogs</button>#}
		</div>



    <script>
        function handleVote(option) {
            // åˆ›å»ºä¸€ä¸ª XMLHttpRequest å¯¹è±¡
            var xhr = new XMLHttpRequest();
            xhr.open('POST', '/vote/', true);  // è¿™é‡Œæ˜¯åç«¯æ¥æ”¶æ•°æ®çš„ URL

            // è®¾ç½®è¯·æ±‚å¤´
            xhr.setRequestHeader('Content-Type', 'application/json');

            // ç›‘å¬è¯·æ±‚çš„è¿”å›ç»“æœ
            xhr.onload = function () {
                if (xhr.status >= 200 && xhr.status < 300) {
                    // è§£æè¿”å›çš„æ•°æ®
                    var data = JSON.parse(xhr.responseText);
                    alert(`ä½ æŠ•ç¥¨é€‰æ‹©äº†: ${data.option}ã€‚`);
                } else {
                    console.error('è¯·æ±‚å¤±è´¥ï¼ŒçŠ¶æ€ç :', xhr.status);
                }
            };

            // å‘é€è¯·æ±‚
            var payload = JSON.stringify({ option: option });
            xhr.send(payload);
        }
    </script>
	</body>
	<script src="static/js/script_vote.js"></script>
	<script src="static/js/script_result.js"></script>

</html>